effects:
  blend:
    status: implemented
    ops: &blend_ops
      - additive
      - alpha
      - alpha2
      - alphaslide
      - blend
      - blendslide
      - replace
      - defaultblend
      - defrendblend
      - above
      - below
    notes: "Integer math with 8-bit saturation matches AVS 2.x behaviour."
  overlay:
    status: implemented
    ops: *blend_ops
    notes: "Constant background/foreground colors blended per pixel."
  solid:
    status: implemented
    notes: "Axis-aligned rectangle fill; integer raster."
  dots:
    status: implemented
    notes: "Filled circles drawn with midpoint rasterisation."
  dot_plane:
    status: implemented
    notes: "Audio-reactive 3D dot lattice with tilt, rotation, and five-point colour gradient."
  lines:
    status: implemented
    notes: "Bresenham polyline with optional closure and thickness."
  triangles:
    status: implemented
    notes: "Filled and outlined triangles using barycentric coverage."
  rrect:
    status: implemented
    notes: "Rounded rectangles with fill/outline and integer corner checks."
  text:
    status: implemented
    notes: "Deterministic bitmap text with outline, shadow, and anti-alias toggle."
  misc_comment:
    status: implemented
    notes: "Stores preset annotations without changing the framebuffer."
  holden05_multi_delay:
    status: implemented
    notes: "Six shared delay buffers with beat-synchronised frame timing."
  swizzle:
    status: implemented
    modes: [rgb, rbg, grb, gbr, brg, bgr]
    notes: "Alpha preserved; permutations applied branchlessly per pixel."
  framebuffer_ops:
    status: implemented
    features:
      - clear_first_frame
      - save_restore_slots
      - wrap_sampling
      - slide_transitions
      - crossfade_transition
      - persistent_overlays
    notes: "Dual-buffer runtime with 8 named slots and deterministic overlays."
parser:
  micro_preset:
    status: available
    ignores:
      - BUTTON*
      - CHECK*
      - EDIT*
      - SLIDER*
      - RADIO*
      - TAB1
      - LIST1
      - SCROLLBAR1
      - HELPBTN
      - CHOOSEFONT
      - VIS_*
      - L_*
      - DEBUGREG_*
      - EFFECTRECT
      - EFFECTS
      - EFNAME
      - SETTINGS
      - VERSTR
      - TRANS_CHECK
      - TRANS_SLIDER
      - THREADSBORDER
      - REMSEL
      - EXCLUDE
      - NEWRESET
      - HRESET
      - VRESET
      - MAX
      - OFF
      - IN
      - OUT
      - SA
      - QUAL*
    output: "Vector of effect+ParamBlock pairs"
    tests:
      - tests/core/test_blend_ops.cpp
goldens:
  micro_blend_md5:
    file: tests/golden/micro_blend_md5.txt
    update_command: ./tools/update_goldens.sh
stubs:
  - name: Color Reduction
    status: implemented
    source: src/effects/trans/effect_color_reduction.cpp
  - name: Holden04: Video Delay
    status: stub
    source: vis_avs/rlib.cpp (R_VideoDelay)
  - name: Holden05: Multi Delay
    status: stub
    source: vis_avs/rlib.cpp (R_MultiDelay)
  - name: Misc / Comment
    status: stub
    source: vis_avs/r_comment.cpp (R_Comment)
  - name: Misc / Custom BPM
    status: implemented
    source: vis_avs/r_bpm.cpp (R_Bpm)
  - name: Misc / Set render mode
    status: implemented
    source: src/effects/misc/effect_render_mode.cpp
  - name: Multiplier
    status: implemented
    source: src/effects/trans/effect_multiplier.cpp
  - name: Render / AVI
    status: stub
    source: vis_avs/r_avi.cpp (R_AVI)
  - name: Render / Bass Spin
    status: stub
    source: vis_avs/r_bspin.cpp (R_BSpin)
  - name: Render / Dot Fountain
    status: implemented
    source: src/effects/render/effect_dot_fountain.cpp
  - name: Render / Dot Plane
    status: stub
    source: vis_avs/r_dotpln.cpp (R_DotPlane)
  - name: Render / Moving Particle
    status: stub
    source: vis_avs/r_parts.cpp (R_Parts)
  - name: Render / Oscilloscope Star
    status: stub
    source: vis_avs/r_oscstar.cpp (R_OscStars)
  - name: Render / Ring
    status: implemented
    source: vis_avs/r_oscring.cpp (R_OscRings)
  - name: Render / Rotating Stars
    status: stub
    source: vis_avs/r_rotstar.cpp (R_RotStar)
  - name: Render / Simple
    status: stub
    source: vis_avs/r_simple.cpp (R_SimpleSpectrum)
  - name: Render / SVP Loader
    status: stub
    source: vis_avs/r_svp.cpp (R_SVP)
  - name: Render / Timescope
    status: stub
    source: vis_avs/r_timescope.cpp (R_Timescope)
  - name: Trans / Blitter Feedback
    status: stub
    source: vis_avs/r_blit.cpp (R_BlitterFB)
  - name: Trans / Blur
    status: implemented
    source: src/effects/filters/effect_blur_box.cpp
  - name: Trans / Channel Shift
    status: implemented
    source: src/effects/trans/effect_channel_shift.cpp
    notes: "Permutes RGB channels with optional beat-triggered randomisation."
  - name: Trans / Brightness
    status: stub
    source: vis_avs/r_bright.cpp (R_Brightness)
  - name: Trans / Fast Brightness
    status: implemented
    source: src/effects/filters/effect_fast_brightness.cpp
  - name: Holden04: Video Delay
    status: implemented
    source: src/effects/trans/effect_video_delay.cpp
  - name: Trans / Color Clip
    status: stub
    source: vis_avs/r_colorreplace.cpp (R_ContrastEnhance)
  - name: Trans / Color Modifier
    status: stub
    source: vis_avs/r_dcolormod.cpp (R_DColorMod)
  - name: Trans / Colorfade
    status: stub
    source: vis_avs/r_colorfade.cpp (R_ColorFade)
  - name: Trans / Grain
    status: implemented
    source: src/effects/filters/effect_grain.cpp
  - name: Trans / Interferences
    status: implemented
    source: src/effects/filters/effect_interferences.cpp
  - name: Trans / Mosaic
    status: stub
    source: vis_avs/r_mosaic.cpp (R_Mosaic)
  - name: Trans / Roto Blitter
    status: stub
    source: vis_avs/r_rotblit.cpp (R_RotBlit)
  - name: Trans / Scatter
    status: stub
    source: vis_avs/r_scat.cpp (R_Scat)
  - name: Trans / Unique tone
    status: stub
    source: vis_avs/r_onetone.cpp (R_Onetone)
  - name: Trans / Water
    status: stub
    source: vis_avs/r_water.cpp (R_Water)
  - name: Trans / Water Bump
    status: stub
    source: vis_avs/r_waterbump.cpp (R_WaterBump)
