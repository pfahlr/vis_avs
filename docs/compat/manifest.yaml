effects:
  blend:
    status: implemented
    ops: &blend_ops
      - additive
      - alpha
      - alpha2
      - alphaslide
      - blend
      - blendslide
      - replace
      - defaultblend
      - defrendblend
      - above
      - below
    notes: "Integer math with 8-bit saturation matches AVS 2.x behaviour."
  overlay:
    status: implemented
    ops: *blend_ops
    notes: "Constant background/foreground colors blended per pixel."
  solid:
    status: implemented
    notes: "Axis-aligned rectangle fill; integer raster."
  dots:
    status: implemented
    notes: "Filled circles drawn with midpoint rasterisation."
  lines:
    status: implemented
    notes: "Bresenham polyline with optional closure and thickness."
  triangles:
    status: implemented
    notes: "Filled and outlined triangles using barycentric coverage."
  rrect:
    status: implemented
    notes: "Rounded rectangles with fill/outline and integer corner checks."
  text:
    status: implemented
    notes: "Deterministic bitmap text with outline, shadow, and anti-alias toggle."
  swizzle:
    status: implemented
    modes: [rgb, rbg, grb, gbr, brg, bgr]
    notes: "Alpha preserved; permutations applied branchlessly per pixel."
  framebuffer_ops:
    status: implemented
    features:
      - clear_first_frame
      - save_restore_slots
      - wrap_sampling
      - slide_transitions
      - crossfade_transition
      - persistent_overlays
    notes: "Dual-buffer runtime with 8 named slots and deterministic overlays."
parser:
  micro_preset:
    status: available
    ignores:
      - BUTTON*
      - CHECK*
      - EDIT*
      - SLIDER*
      - RADIO*
      - TAB1
      - LIST1
      - SCROLLBAR1
      - HELPBTN
      - CHOOSEFONT
      - VIS_*
      - L_*
      - DEBUGREG_*
      - EFFECTRECT
      - EFFECTS
      - EFNAME
      - SETTINGS
      - VERSTR
      - TRANS_CHECK
      - TRANS_SLIDER
      - THREADSBORDER
      - REMSEL
      - EXCLUDE
      - NEWRESET
      - HRESET
      - VRESET
      - MAX
      - OFF
      - IN
      - OUT
      - SA
      - QUAL*
    output: "Vector of effect+ParamBlock pairs"
    tests:
      - tests/core/test_blend_ops.cpp
goldens:
  micro_blend_md5:
    file: tests/golden/micro_blend_md5.txt
    update_command: ./tools/update_goldens.sh
